# 狼人杀Agent挑战赛

# 赛题描述

本赛题需要参赛者基于 AgentScope 1.0 框架构建可以通过自主学习不断提升游戏水平的智能体，该智能体需要适应狼人杀游戏的角色，参与九人制狼人杀比赛，自主制定游戏策略并以游戏获胜为最终目标。该赛题考察Agent在动态环境中的学习能力、适应能力和策略优化能力。


# 技术要求

技术要求：需要选择使用 AgentScope 1.0 框架和百炼平台的 qwen3-max 模型。选手可以选择
● 在现有的agentscope.agent.ReActAgent基础上进行开发
● 继承agentscope.agent.ReActAgentBase进行开发
● 继承agentscope.agent.AgentBase进行开发


AgentScope 仓库中提供了比赛脚本程序，供参赛者开发，测试使用：在此目录 werewolves


最终，参赛选手开发的智能体类需要保证满足以下要求（在测试脚本中能够运行基本就已经满足了以外要求）：
● 必须实现observe函数
● 必须支持基于 BaseModel 的结构化输出功能
● 必须支持 Session 读取和保存，即支持 state_dict() 和 load_state_dict() 函数
● __call__函数
    ○ 返回的必须是合法的Msg对象
    ○ 函数签名满足以下调用方式：



# 提交要求：

● 智能体类在一个名为 agent.py 的文件中定义，且命名为 PlayerAgent，构造函数只唯一接受一个名为 name 的字符串参数，如下：
```
from agent import PlayerAgent
agent = PlayerAgent(name="xxx")
```
NOTE：由于本赛题考察Agent的能力，为避免模型差异带来的影响，参赛选手的智能体只能使用百炼提供的 “qwen3-max” 模型，但模型参数不做限制（temperature等）。阿里云百炼平台提供了每个模型100万免费Tokens，详情参考：如何使用阿里云百炼上的模型？


# 赛题评审标准

| 评分项 | 评分标准 |
| --- | --- |
| 胜率得分<br>（0-10分，占最终得分的80%） | - 胜率 * 10<br>- 发言、结构化输出失败或不合法，会扣除对应分数<br>- 运行失败（报错、异常等）会视为该局弃权<br>选手在开发过程中可以通过测试框架进行自测 |
| 技术与创新性得分<br>（0-10分，占最终得分的20%） | - 由比赛评委打分，依据为上下文管理，长期记忆，策略优化，在线学习，提示词攻防等算法上的技术创新性 |
| 最终得分 | 胜率得分 * 0.8 + 技术与创新性得分 * 0.2 |


# 比赛规则：

参赛选手的智能体将持续参赛，即多句狼人杀游戏之间智能体状态是连续的，在一句比赛开始前将加载状态，结束后将保存其状态，具体而言：

采取随机分组的方式，每组 9 位参赛者，最后一组不满 9 人时，从其他参赛选手中随机抽取补充至 9 人，补充选手的胜负不计入其成绩。

一组固定的选手将进行 5 句游戏，每局游戏开始时都会重新分配身份

一组选手进行完 5 句比赛视为 1 轮，共进行 10 轮
比赛最开始，选手的智能体将会被赋予一个名字，该名字将是固定的，不同游戏局次之间不会产生变化
智能体每次发言的时间（到结束发言为止）不能超过 30s，同时产生的文字结果字符串长度不能超过 2048，否则跳过发言，在投票阶段则算作弃权
提示词注入攻击是被允许的，禁止选手采取除“智能体信息交流”以外的任何攻击手段，例如代码层面的攻击，一经发现取消比赛资格
参赛选手最终提交的内容包括：

智能体类的代码

名为 requirements.txt 的 Python 依赖文件，用于安装运行环境（agentscope默认会安装）


# 游戏规则：

九人制狼人杀游戏规则：
参与者：

3狼人

3村民

1先知：每晚可以查验一名玩家的真实身份

1女巫：拥有治疗药水和毒药，可以选择救活或毒死一名玩家

1猎人：死亡时可以选择带走一名玩家，或者不使用该能力


# 游戏流程：



给每个智能体分配角色，决定发言顺序

进行以下游戏循环直至游戏结束
  ■ 天黑狼人进行讨论（发言不超过3轮），并投票杀死一名玩家
  ■ 女巫行动，使用治疗药水或毒药
  ■ 预言家行动，查验一名玩家身份
  ■ 天亮法官宣布夜晚的结果
  ■ 存活角色每人进行一次发言，然后进行投票

游戏结束，所有智能体进行总结反思（只有自己能够看到）


# 胜利条件：

当狼人阵营人数等于村民阵营，则狼人胜；

狼人阵营全部死亡，则村民方胜